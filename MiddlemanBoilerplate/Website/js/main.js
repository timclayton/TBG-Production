/*global $, jQuery, window, document, console*/
$(function(){"use strict";function S(e){var t=e.length,n;for(n=0;n<t;n+=1)e[n].toggleClass("js-active")}function x(){t&&t.each(function(){var e=$(this).outerHeight(!0);e>r&&(r=e)}),n&&n.each(function(){var e=$(this).outerHeight(!0);e>i&&(i=e)})}function T(){$(window).width()>o?(t.each(function(){$(this).css("height",r+"px")}),n.each(function(){$(this).css("height",i+"px")})):(t.each(function(){$(this).css("height","auto")}),n.each(function(){$(this).css("height","auto")}))}function N(){var e,t=c.children("a"),n=t.length,r=Math.ceil(n/4);for(e=0;e<n;e+=r)t.slice(e,e+r).wrapAll('<div class="sectionmap-group"></div>')}function C(){var e=p.children(".js-active").next(),t=p.children().eq(0);e.length?e.trigger("click"):(t.trigger("click"),A())}function k(){var e=p.children(".js-active").prev(),t=p.children().eq(3);e.length?e.trigger("click"):t.trigger("click")}function L(){b=window.setInterval(C,6e3)}function A(){window.clearInterval(b)}var e=$(".block-toggle"),t=$(".blockgroup-3 > .block"),n=$(".blockgroup-4 > .block"),r=0,i=0,s=$("html"),o=600,u=$(".primarynav"),a=$(".primarynav-level1 > .section-active"),f=$(".primarynav-level1 > li"),l=$("#primarynav-toggle"),c=$(".sectionmap"),h=$("#slider"),p=$(".slider-nav"),d=$(".slider-header"),v=$(".slider-subheader"),m=$(".slider-link"),g=$(".slider-images.-desktop > li"),y=$(".slider-images.-mobile > li"),b,w=$(".primarynav-level2"),E=$(".templatenav");s.addClass("loading"),$(".styled-select").dropkick(),$("input, textarea").placeholder(),$(".icon-print").click(function(){window.print()}),w.each(function(){var e=$(this),t=$(e.parent().data("flyout")),n=t.find(".subnav-sections"),r=e.clone().removeClass("-mobile").addClass("cf");r.children("li:nth-child(6n)").before('<hr class="rowdivide">'),r.appendTo(n)}),f.click(function(){var e=$(this),t=e.next(),n=e.siblings(".js-active"),r=u.find(".js-sibling"),i=e.children(".primarynav-level2"),s=$(".primarynav-level2.js-active"),o=$(e.data("flyout")),a=$(".subnav.js-active"),f=[e,n,s,a];if(!o.hasClass("js-active")||!i.hasClass("js-active"))f.push(o,i),t.addClass("js-sibling"),u.addClass("js-open");S(f),r.removeClass("js-sibling")}),l.click(function(){u.toggleClass("js-open")}),$("body").click(function(e){if(e.originalEvent!==undefined){var t=e.target,n=$(".primarynav-level1 > .js-active"),r=$(".subnav.js-active"),i=$(".primarynav-level2.js-active"),s=!0;if(r){while(t){if(t.className==="subnav js-active"||t.className==="primarynav"||t.className==="primarynav js-open")s=!1;t=t.parentNode}s&&(S([n,r,i]),$(".primarynav-level1 > .js-sibling").removeClass("js-sibling"))}}}),a.length&&a.next().addClass("-no-before"),e.length&&e.on("click",function(e){e.preventDefault();var t=$(this),n=t.children(".block-toggle-text"),r=t.attr("href"),i=$(r);S([t,n]),i.toggleClass("-collapsed"),i.toggleClass("-expanded")}),c&&N(),h.length&&(p.on("click","li",function(e){if(this.className!=="js-active"){var t=$(this),n=t.index(),r=g.filter(".js-active"),i=g.eq(n),s=y.filter(".js-active"),o=y.eq(n),u=p.children(".js-active"),a=t.data("header"),f=t.data("subheader"),l=t.data("link");S([t,r,s,u,i,o]),d.text(a),v.text(f),m.attr("href",l),e.originalEvent&&A()}}),$("#slider-next").click(function(e){C(),e.originalEvent&&A()}),$("#slider-prev").click(function(e){k(),e.originalEvent&&A()}),$(p).children().eq(0).trigger("click")),E.length&&$(document).keydown(function(e){e.shiftKey&&e.which===73&&E.toggleClass("js-active")}),$(window).load(function(){s.removeClass("loading"),$(window).width()>o&&(x(),T()),h.length&&L()}),$(window).resize(function(){r+i===0&&x(),T()})});